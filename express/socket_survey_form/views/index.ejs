<html>

<head>
  <title>Sockets</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="/socket.io/socket.io.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <script type="text/javascript">
    $(document).ready(function () {

      var socket = io(); //request for socket

      $("button").click(function () {

        var $inputs = $('#myForm :input');
        var values = {};
        $inputs.each(function () {
          values[this.name] = $(this).val();
        });
        socket.emit('posting_form', values); //send data to the server
      });
      socket.on('updated_message', function (data) {
        $('#data').append("<div class=\"msg\">" + data.msg + "</div>")
      });
      socket.on('random_number', function (data) {
        $('#data').append(data.msg)
      });
    })
  </script>
</head>

<body>
  <h1>Survey Form..</h1>

  <form id="myForm" action="javascript:void(0);">
    <div class="form-group">
      <label for="exampleInputEmail1">Name:</label>
      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
        placeholder="Enter the ID nummber" name="name">
    </div>

    <label for="exampleInputEmail1">Dojo Location:</label>
    <select class="form-control" name="location">
      <option value="Location 1">Location 1</option>
      <option value="Location 2">Location 2</option>
      <option value="Location 3">Location 3</option>
    </select>

    <label for="exampleInputEmail1">Favorite Language:</label>
    <select class="form-control" name="lang">
      <option value="JavaScript">JavaScript</option>
      <option value="Python">Python</option>
      <option value="PHP">PHP</option>
    </select>

    <div class="form-group">
      <label for="exampleFormControlTextarea1">Comment(optional):</label>
      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" name="comment"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  <div id="data">
  </div>


</body>

</html>